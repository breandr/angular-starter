doctype
html
  head
    //-set <base> for web only; does not work when set in mobile app
    base(href="/")
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    title __APP_TITLE__
    meta(name='description', content='Share your details')
    //- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323
    meta(name='viewport', content='initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width')
    //-Place favicon.ico and apple-touch-icon.png in the root directory

    //build:css css/vendor.css
    //bower:css
    link(rel='stylesheet', href='bower_components/angular-material/angular-material.css')
    link(rel='stylesheet', href='bower_components/angular-busy/dist/angular-busy.css')
    link(rel='stylesheet', href='bower_components/angular-ui-select/dist/select.css')
    link(rel='stylesheet', href='bower_components/nvd3/src/nv.d3.css')
    link(rel='stylesheet', href='bower_components/ng-table/dist/ng-table.css')
    link(rel='stylesheet', href='bower_components/fontawesome/css/font-awesome.css')
    //endbower
    //endbuild

    //build:css css/app.css
    link(rel='stylesheet', href='css/material/themes/blue-purple.css')
    //- components
    link(rel='stylesheet', href='app/components/account/signInForm/signInForm-style.css')
    link(rel='stylesheet', href='app/components/account/registerForm/registerForm-style.css')
    link(rel='stylesheet', href='app/components/account/forgotPasswordForm/forgotPasswordForm-style.css')
    link(rel='stylesheet', href='app/components/account/resetPasswordForm/resetPasswordForm-style.css')
    link(rel='stylesheet', href='app/components/dropdownChecklist/dropdownChecklist-style.css')
    //- misc
    link(rel='stylesheet', href='css/main.css')
    link(rel='stylesheet', href='css/loading-indicators/spinkit-wave.css')
    link(rel='stylesheet', href='css/loading-bar.css')
    //- states
    link(rel='stylesheet', href='app/states/anonymous/accounts/accountsState-style.css')
    link(rel='stylesheet', href='app/states/anonymous/accounts/signIn/signInState-style.css')
    link(rel='stylesheet', href='app/states/anonymous/accounts/register/registerState-style.css')
    link(rel='stylesheet', href='app/states/authenticated/authenticatedState-style.css')
    link(rel='stylesheet', href='app/states/authenticated/core/coreState-style.css')
    //endbuild
    script.
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-XXXXXXXX-Xs', 'auto');
  body(layout="")
    ui-view(flex="", layout="")
    //- script(src='cordova.js')
    //build:js js/vendor.js
    script(src='bower_components/traceur/traceur-runtime.js')
    //bower:js
    script(src='bower_components/jquery/dist/jquery.js')
    script(src='bower_components/angular/angular.js')
    script(src='bower_components/angular-animate/angular-animate.js')
    script(src='bower_components/angular-aria/angular-aria.js')
    script(src='bower_components/angular-resource/angular-resource.js')
    script(src='bower_components/angular-cookies/angular-cookies.js')
    script(src='bower_components/angular-sanitize/angular-sanitize.js')
    script(src='bower_components/angular-messages/angular-messages.js')
    script(src='bower_components/angular-touch/angular-touch.js')
    script(src='bower_components/angular-route/angular-route.js')
    script(src='bower_components/hammerjs/hammer.js')
    script(src='bower_components/angular-material/angular-material.js')
    script(src='bower_components/angular-ui-router/release/angular-ui-router.js')
    script(src='bower_components/json3/lib/json3.js')
    script(src='bower_components/lodash/dist/lodash.js')
    script(src='bower_components/underscore.string/lib/underscore.string.js')
    script(src='bower_components/ngInfiniteScroll/build/ng-infinite-scroll.js')
    script(src='bower_components/moment/moment.js')
    script(src='bower_components/angular-moment/angular-moment.js')
    script(src='bower_components/angular-http-auth/src/http-auth-interceptor.js')
    script(src='bower_components/angular-translate/angular-translate.js')
    script(src='bower_components/angular-translate-loader-static-files/angular-translate-loader-static-files.js')
    script(src='bower_components/angular-translate-storage-cookie/angular-translate-storage-cookie.js')
    script(src='bower_components/angular-translate-storage-local/angular-translate-storage-local.js')
    script(src='bower_components/jquery-waypoints/waypoints.js')
    script(src='bower_components/SHA-1/sha1.js')
    script(src='bower_components/angulartics/src/angulartics.js')
    script(src='bower_components/angulartics/src/angulartics-ga.js')
    script(src='bower_components/angular-local-storage/dist/angular-local-storage.js')
    script(src='bower_components/angular-busy/dist/angular-busy.js')
    script(src='bower_components/angular-ui-select/dist/select.js')
    script(src='bower_components/d3/d3.js')
    script(src='bower_components/nvd3/nv.d3.js')
    script(src='bower_components/angular-nvd3/dist/angular-nvd3.min.js')
    script(src='bower_components/checklist-model/checklist-model.js')
    script(src='bower_components/observe-js/src/observe.js')
    script(src='bower_components/ng-table/dist/ng-table.js')
    script(src='bower_components/traceur/traceur.js')
    script(src='bower_components/es6-module-loader/dist/es6-module-loader-sans-promises.js')
    script(src='bower_components/system.js/dist/system.js')
    script(src='bower_components/headroom.js/dist/headroom.js')
    script(src='bower_components/headroom.js/dist/jQuery.headroom.js')
    script(src='bower_components/headroom.js/dist/angular.headroom.js')
    script(src='bower_components/satellizer/satellizer.js')
    //endbower
    //endbuild

    script.
      System.paths = {
        'app/*': '/app/*.js',
        'components/*': '/app/components/*.js',
        'states/*': '/app/states/*.js',
        'templates': '/app/templates.js',
        /*'angular': '/bower_components/angular/angular.js',*/
        /*'underscore.string': '/bower_components/underscore.string/lib/underscore.string.js'*/
      };

      System.import('app/app').then(function(m) {
        new m.default();

        angular.element(document).ready(function() {
          angular.bootstrap(document, ['__APP_NAME_CAMEL_CASED__'], {
            strictDi: true
          });
        });
      });/*, function(e) {
          throw e;
      }).catch(function(e) {
          throw e;
      });*/
